#include <stdio.h>
#include "predictor.h"
#include "sample_adaptative.h"

const int SAMPLES[125][2] = {
        {2131, 0},
        {2201, 2131},
        {2360, 2201},
        {2742, 2360},
        {3568, 2742},
        {2126, 2131},
        {2224, 2201},
        {2382, 2360},
        {2785, 2742},
        {3637, 3568},
        {2151, 2126},
        {2235, 2224},
        {2393, 2382},
        {2798, 2785},
        {3661, 3637},
        {2152, 2151},
        {2236, 2235},
        {2397, 2393},
        {2792, 2798},
        {3658, 3661},
        {2161, 2152},
        {2249, 2236},
        {2403, 2397},
        {2827, 2792},
        {3699, 3658},
        {2132, 2131},
        {2215, 2201},
        {2353, 2360},
        {2740, 2742},
        {3554, 3568},
        {2144, 2126},
        {2239, 2224},
        {2394, 2382},
        {2764, 2785},
        {3603, 3637},
        {2140, 2151},
        {2221, 2235},
        {2380, 2393},
        {2767, 2798},
        {3601, 3661},
        {2151, 2152},
        {2241, 2236},
        {2383, 2397},
        {2810, 2792},
        {3697, 3658},
        {2162, 2161},
        {2244, 2249},
        {2417, 2403},
        {2858, 2827},
        {3815, 3699},
        {2131, 2132},
        {2206, 2215},
        {2334, 2353},
        {2700, 2740},
        {3447, 3554},
        {2132, 2144},
        {2212, 2239},
        {2344, 2394},
        {2696, 2764},
        {3460, 3603},
        {2128, 2140},
        {2209, 2221},
        {2350, 2380},
        {2709, 2767},
        {3487, 3601},
        {2136, 2151},
        {2226, 2241},
        {2368, 2383},
        {2743, 2810},
        {3584, 3697},
        {2133, 2162},
        {2221, 2244},
        {2366, 2417},
        {2752, 2858},
        {3563, 3815},
        {2116, 2131},
        {2184, 2206},
        {2301, 2334},
        {2619, 2700},
        {3284, 3447},
        {2116, 2132},
        {2189, 2212},
        {2309, 2344},
        {2614, 2696},
        {3278, 3460},
        {2108, 2128},
        {2181, 2209},
        {2311, 2350},
        {2617, 2709},
        {3286, 3487},
        {2112, 2136},
        {2180, 2226},
        {2307, 2368},
        {2614, 2743},
        {3275, 3584},
        {2112, 2133},
        {2200, 2221},
        {2291, 2366},
        {2623, 2752},
        {3276, 3563},
        {2116, 2116},
        {2187, 2184},
        {2311, 2301},
        {2626, 2619},
        {3279, 3284},
        {2114, 2116},
        {2188, 2189},
        {2302, 2309},
        {2606, 2614},
        {3224, 3278},
        {2109, 2108},
        {2169, 2181},
        {2300, 2311},
        {2581, 2617},
        {3202, 3286},
        {2106, 2112},
        {2180, 2180},
        {2306, 2307},
        {2585, 2614},
        {3203, 3275},
        {2103, 2112},
        {2170, 2200},
        {2287, 2291},
        {2569, 2623},
        {3212, 3276}
};


int main() {
    unsigned int z = 0, y = 0, x = 0, t = 0;
    uint16_t sample, neighbour, mapped;

    int counter[BANDS] = {0x0};
    int accumulator[BANDS] = {0x0};
    int bits_written = 0;

    //write_headers(&bits_written);


    for (int i = 0; i < 125; i++) {
            t = x + y * NCOLS;

            sample = SAMPLES[i][0];
            neighbour = SAMPLES[i][1];

            mapped = predictor(sample, neighbour, t, z);
            printf("mapped");

            z++;
            if (z == 5) {
                z = 0;
                x++;
                if (x == 5) {
                    x = 0;
                    y++;
                }
            }
        }
    return 0;
}
